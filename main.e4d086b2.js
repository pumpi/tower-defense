parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"EDcV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./game"));function t(e){return e&&e.__esModule?e:{default:e}}var r={_sortEntity:function(e){this[e].sort(function(e,t){return e.y>t.y||t.zIndex-e.zIndex})},createImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=new Image;return r.src=e,r.sprites=t,r},drawSprite:function(t,r,a,n,i,s){var u=t.sprites[r];e.default.ctx.drawImage(t,u.x,u.y,i,s,a-u.w/2,n-u.h/2,u.w,u.h)},drawAnimatedSprite:function(t,r,a,n,i,s,u){var d=t.sprites[r];e.default.ctx.drawImage(t,d.frames[parseInt(a)],d.y,s,u,n-d.w/2,i-d.h/2,d.w,d.h)}};exports.default=r;
},{"./game":"IEHn"}],"AiqV":[function(require,module,exports) {
module.exports="/tower-defense/laser.d6cd3fbc.png";
},{}],"grnu":[function(require,module,exports) {
module.exports="/tower-defense/laser.431688e3.mp3";
},{}],"XUlr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./helpers")),o=r(require("./game"));function r(e){return e&&e.__esModule?e:{default:e}}var a={playerLifes:10,towers:{laser:{costs:80,color:"#ffff03",size:20,fireRange:110,damage:{from:3,to:4},coolDownTime:16,images:e.default.createImage(require("/img/tower/laser.png"),[{x:0,y:0,w:80,h:80},{x:0,y:160,w:80,h:80},{x:0,y:320,w:80,h:80},{x:0,y:480,w:80,h:80},{x:0,y:640,w:80,h:80},{x:0,y:800,w:80,h:80}]),audio:require("/audio/laser.mp3"),upgrades:[{cost:120,fireRange:120,damage:{from:7,to:11},color:"#2CE85B"},{cost:190,fireRange:130,damage:{from:14,to:21},color:"#2CE8B9"},{cost:280,fireRange:140,damage:{from:23,to:34},color:"#2A62DB"}]}},mapGrid:80,enemyMinSize:3,enemyLevelIncAt:15,enemyLevels:[{speed:1.5,health:20,color:"rgb(250,0,0)"},{speed:2,health:35,color:"rgb(200,0,0)"},{speed:3,health:50,color:"rgb(150,0,0)"},{speed:4,health:80,color:"rgb(100,0,0)"},{speed:3,health:100,color:"rgb(50,0,0)"},{speed:2,health:150,color:"rgb(30,30,30)"},{speed:2,health:120,color:"rgb(15,15,15)"},{speed:5,health:160,color:"rgb(0,0,0)"}],waves:[{name:"A lot small enemies",template:[{count:4,waveFactor:1,coolDown:800,level:0,delay:0,delayFactor:.5},{count:0,waveFactor:.4,coolDown:500,level:1,delay:0,delayFactor:0}]}]};exports.default=a;
},{"./helpers":"EDcV","./game":"IEHn","/img/tower/laser.png":"AiqV","/audio/laser.mp3":"grnu"}],"JA00":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./helpers")),e=i(require("./game"));function i(t){return t&&t.__esModule?t:{default:t}}var r={list:{},idCounter:0,init:function(){var t=this;e.default.on("update",function(){t.update()}),e.default.on("beforeDraw",function(){t.draw()})},create:function(t,i,r,u){var n=this,o={id:++this.idCounter,type:0,x:t,y:i,r:r,color:u,level:0,zIndex:0,update:function(){},remove:function(){n.remove(this.id)},draw:function(){e.default.drawCircle(this.x,this.y,this.r,this.color,!0)}};return this.list[o.id]=o,o},remove:function(t){delete this.list[t]},update:function(){for(var t in this.list)this.list[t].update()},draw:function(){for(var t in this.list)e.default.drawList.push(this.list[t])}};exports.default=r;
},{"./helpers":"EDcV","./game":"IEHn"}],"AReb":[function(require,module,exports) {
module.exports="/tower-defense/background.19677b9a.png";
},{}],"vyqg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./helpers")),e=r(require("./game")),a=r(require("./game.settings")),i=r(require("./game.mapEntities"));function r(t){return t&&t.__esModule?t:{default:t}}var u={waypoints:[{x:0,y:120},{x:120,y:120},{x:120,y:360},{x:360,y:360},{x:360,y:200},{x:520,y:200},{x:520,y:520},{x:680,y:520},{x:680,y:280},{x:800,y:280},{x:920,y:280},{x:920,y:200},{x:1200,y:200}],images:{background:t.default.createImage(require("/img/background.png"))},init:function(){var t=this;e.default.on("update",function(){t.update()}),e.default.on("beforeDraw",function(){t.draw()})},update:function(){},draw:function(){e.default.ctx.drawImage(this.images.background,0,0,e.default.canvas.width,e.default.canvas.height),this.grid(a.default.mapGrid)},isValidTowerPlace:function(t,r){for(var u=this,n={left:t-a.default.towers.laser.size,top:r-a.default.towers.laser.size,right:t+a.default.towers.laser.size,bottom:r+a.default.towers.laser.size},o=0;o<u.waypoints.length-1;o++){var f=Math.min(u.waypoints[o+1].x,u.waypoints[o].x),s=Math.min(u.waypoints[o+1].y,u.waypoints[o].y),d=Math.max(u.waypoints[o+1].x,u.waypoints[o].x),l=Math.max(u.waypoints[o+1].y,u.waypoints[o].y),c=d-f+80,x=l-s+80,y={left:f-=40,top:s-=40,right:d=f+c,bottom:l=s+x};if(e.default.intersectRect(n,y))return!1}for(var p in i.default.list){var w=i.default.list[p];if("tower"===w.type&&e.default.distance(w.x,w.y,t,r)<=2*a.default.towers.laser.size)return!1}return!0},grid:function(t){e.default.ctx.beginPath(),e.default.ctx.strokeStyle="#ffffff22",e.default.ctx.lineWidth=1;for(var a=t;a<e.default.canvas.height;a+=t)e.default.ctx.moveTo(0,a),e.default.ctx.lineTo(e.default.canvas.width,a);for(var i=t;i<e.default.canvas.width;i+=t)e.default.ctx.moveTo(i,0),e.default.ctx.lineTo(i,e.default.canvas.height);e.default.ctx.stroke()}};exports.default=u;
},{"./helpers":"EDcV","./game":"IEHn","./game.settings":"XUlr","./game.mapEntities":"JA00","/img/background.png":"AReb"}],"sg1T":[function(require,module,exports) {
module.exports="/tower-defense/irlicht.ba887bbc.png";
},{}],"J8zM":[function(require,module,exports) {
module.exports="/tower-defense/bug.f195e1a0.png";
},{}],"rAuy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./helpers")),e=n(require("./game")),i=n(require("./game.enemies")),s=n(require("./game.mapEntities")),h=n(require("./game.settings")),a=n(require("./game.map"));function n(t){return t&&t.__esModule?t:{default:t}}var l={images:{irlicht:t.default.createImage(require("/img/enemy/irlicht.png"),[{x:0,y:0,w:20,h:20,frames:[0,40,80,120,160,200]},{x:0,y:40,w:20,h:20,frames:[0,40,80,120,160,200]},{x:0,y:80,w:20,h:20,frames:[0,40,80,120,160,200]},{x:0,y:120,w:20,h:20,frames:[0,40,80,120,160,200]}]),bug:t.default.createImage(require("/img/enemy/bug.png"),[{x:0,y:0,w:20,h:20},{x:40,y:0,w:20,h:20},{x:80,y:0,w:20,h:20},{x:120,y:0,w:20,h:20}])},enemiesList:[],init:function(){var t=this;e.default.on("update",function(){t.update()})},update:function(){for(var t=this.enemiesList.length-1;t>=0;t--)!0===this.enemiesList[t].deleted&&this.remove(t)},remove:function(t){s.default.remove(this.enemiesList[t].id),this.enemiesList.splice(t,1)},create:function(n,l){var r=Math.round(40*Math.random())-10,y=this,o=s.default.create(0,0,10,"red");o.waypointIndex=0,o.waypoint={},o.shift=r,o.velocity={x:0,y:0},h.default.enemyLevels[n]||(n=e.default.settings.enemyLevels.length-1);var d=h.default.enemyLevels[n];return o.level=n,o.wave=l,o.speed=d.speed,o.health=d.health,o.maxHealth=d.health,o.color=d.color,o.direction=0,o.frame=0,o.enemyType="irlicht",o.deleted=!1,o.nextWaypoint=function(){this.waypoint.x||(this.waypoint=Object.assign({},a.default.waypoints[this.waypointIndex]),this.waypoint.x+=this.shift,this.waypoint.y+=this.shift,this.x=this.waypoint.x,this.y=this.waypoint.y);var t=this.waypoint.x,e=this.waypoint.y;return this.waypointIndex++,!!a.default.waypoints[this.waypointIndex]&&(this.waypoint=Object.assign({},a.default.waypoints[this.waypointIndex]),this.waypoint.x+=this.shift,this.waypoint.y+=this.shift,t===this.waypoint.x?this.velocity.x=0:this.velocity.x=this.x<this.waypoint.x?o.speed:-o.speed,e===this.waypoint.y?this.velocity.y=0:this.velocity.y=this.y<this.waypoint.y?o.speed:-o.speed,this.velocity.y<0&&0===this.velocity.x?this.direction=0:this.velocity.x>0&&0===this.velocity.y?this.direction=1:this.velocity.y>0&&0===this.velocity.x?this.direction=2:this.velocity.x<0&&0===this.velocity.y&&(this.direction=3),!0)},o.waypointReached=function(){return this.velocity.x>0&&this.x>=this.waypoint.x||this.velocity.x<0&&this.x<=this.waypoint.x||this.velocity.y>0&&this.y>=this.waypoint.y||this.velocity.y<0&&this.y<=this.waypoint.y},o.update=function(){if(!0!==this.deleted){if(this.health<=0)return this.die();if(this.waypointReached()){if(!this.nextWaypoint())return this.done()}else this.x+=this.velocity.x,this.y+=this.velocity.y;this.frame+=.2,this.frame>=i.default.images[this.enemyType].sprites[this.direction].frames.length&&(this.frame=0)}},o.draw=function(){t.default.drawAnimatedSprite(y.images.irlicht,this.direction,this.frame,Math.round(this.x),Math.round(this.y),40,40);var i=this.health/this.maxHealth;if(i<1){var s={x:this.x-this.r,y:this.y-this.r-5,width:2*this.r,height:3};e.default.ctx.fillStyle="black",e.default.ctx.fillRect(s.x,s.y,s.width,s.height),e.default.ctx.fillStyle="green",e.default.ctx.fillRect(s.x,s.y,s.width*i,s.height)}},o.die=function(){this.health=0,this.deleted=!0,e.default.stat("coins",e.default.stat("coins")+i.default.calculateReward(o.level),!0);for(var t in i.default.enemiesList){var s=i.default.enemiesList[t];s.wave!==o.wave||s.deleted||!1}return this},o.done=function(){this.deleted=!0;var t=e.default.stat("life");return(t-=1)<=0?(e.default.resetGame(),alert("Du hast verloren!")):e.default.stat("life",t,!0),this},o.damage=function(t){this.health-=t,this.health<=0&&!this.deleted&&this.die()},o.nextWaypoint(),this.enemiesList.push(o),o},calculateReward:function(t){var e=h.default.enemyLevels[0],i=h.default.enemyLevels[t];return Math.round(i.health/e.health*(i.speed/e.speed))+4}};exports.default=l;
},{"./helpers":"EDcV","./game":"IEHn","./game.enemies":"rAuy","./game.mapEntities":"JA00","./game.settings":"XUlr","./game.map":"vyqg","/img/enemy/irlicht.png":"sg1T","/img/enemy/bug.png":"J8zM"}],"EMnj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./game"));function t(e){return e&&e.__esModule?e:{default:e}}var u={x:0,y:0,clicked:!1,init:function(){var t=this;e.default.on("update",function(){t.update()}),e.default.canvas.addEventListener("mousemove",t.onMove),e.default.canvas.addEventListener("click",t.onClick)},update:function(){e.default.mouse.clicked=!1},onMove:function(t){e.default.mouse.x=t.offsetX,e.default.mouse.y=t.offsetY},onClick:function(t){e.default.mouse.clicked=!0},isMouseOver:function(e,t,u){return Math.round(Math.sqrt(Math.pow(this.x-e,2)+Math.pow(this.y-t,2)))<=u}};exports.default=u;
},{"./game":"IEHn"}],"pfYy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("./game")),t=l(require("./game.map")),a=l(require("./game.mouse")),o=l(require("./game.settings")),s=l(require("./game.mapEntities")),i=l(require("./game.enemies")),r=l(require("./helpers"));function l(e){return e&&e.__esModule?e:{default:e}}var d={init:function(){var t=this;e.default.on("update",function(){t.update()}),e.default.on("afterDraw",function(){t.draw()})},update:function(){var a=this.gridPosition();"dropTower"===e.default.stat("mode")&&t.default.isValidTowerPlace(a.x,a.y)&&e.default.mouse.clicked&&(e.default.stat("mode",""),this.create(a.x,a.y))},draw:function(){if("dropTower"===e.default.stat("mode")){var a=this.gridPosition();t.default.isValidTowerPlace(a.x,a.y)?(e.default.drawCircle(a.x,a.y,o.default.towers.laser.fireRange,"rgba(0,0,255,0.2)",!0),r.default.drawSprite(o.default.towers.laser.images,0,a.x,a.y-20,160,160)):e.default.drawCircle(a.x,a.y,o.default.towers.laser.size,"gray",!0)}},create:function(t,l){var d=this,u=o.default.towers.laser,n=s.default.create(t,l,u.size,u.color);return n.type="tower",n.bullet="laser",n.fireRange=u.fireRange,n.damage=u.damage,n.cooldownTime=u.coolDownTime,n.barell={x:t,y:l-(5+n.r)},n.audio=new Audio(u.audio),n.audio.volume=.3,n.stats={shoots:0,dmg:0,kills:0},n.cooldownCounter=0,n.closestEnemy=!1,n.upgrade=function(){var t=e.default.stat("coins"),a=o.default.towers[n.bullet].upgrades[n.level];a&&t>=a.cost&&(e.default.stat("coins",t-a.cost,!0),n.damage=a.damage,n.fireRange=a.fireRange,n.level++,n.color=a.color,d.closeOptions())},n.update=function(){if(n.cooldownCounter--,(e.default.distance(this.x,this.y,this.closestEnemy.x,this.closestEnemy.y)>=this.fireRange+this.closestEnemy.r||this.closestEnemy.health<=0)&&(this.closestEnemy=!1),!1===this.closestEnemy){var t=Number.MAX_SAFE_INTEGER;for(var o in i.default.enemiesList){var s=i.default.enemiesList[o],r=e.default.distance(this.x,this.y,s.x,s.y);r<t&&r<=this.fireRange+s.r&&(t=r,this.closestEnemy=s)}}!1!==this.closestEnemy&&(this.closestEnemy.shoot=!1),!1!==this.closestEnemy&&n.cooldownCounter<=0&&(this.shoot(this.closestEnemy),this.closestEnemy.shoot=!0,n.audio.play()),n.zIndex=10,a.default.isMouseOver(this.x,this.y,this.r)&&(n.zIndex=100),"dropTower"!==e.default.stat("mode")&&a.default.clicked&&a.default.isMouseOver(this.x,this.y,this.r)&&d.openOptions(this)},n.shoot=function(e){var t=Math.floor(Math.random()*(this.damage.to-this.damage.from+1)+this.damage.from);this.stats.shoots+=1,this.stats.dmg+=t,e.damage(t),e.deleted&&(this.stats.kills+=1),this.cooldownCounter=this.cooldownTime},n.draw=function(){if("dropTower"!==e.default.stat("mode")&&a.default.isMouseOver(this.x,this.y,this.r)&&e.default.drawCircle(this.x,this.y,this.fireRange,"rgba(0,0,255,0.2)",!0),r.default.drawSprite(o.default.towers[n.bullet].images,n.level,n.x,n.y-20,160,160),this.closestEnemy){var t=e.default.distance(this.x,this.y,this.closestEnemy.x,this.closestEnemy.y),s=(5+this.r)/t;this.barell.x=this.x+s*(this.closestEnemy.x-this.x),this.barell.y=this.y+s*(this.closestEnemy.y-this.y)}e.default.ctx.save(),this.closestEnemy.shoot&&(e.default.ctx.beginPath(),e.default.ctx.strokeStyle=n.color,e.default.ctx.lineWidth=2,e.default.ctx.moveTo(this.x,this.y-50),e.default.ctx.lineTo(this.closestEnemy.x,this.closestEnemy.y),e.default.ctx.stroke()),e.default.ctx.restore()},n},gridPosition:function(){return{x:Math.floor(e.default.mouse.x/o.default.mapGrid)*o.default.mapGrid+o.default.mapGrid/2,y:Math.floor(e.default.mouse.y/o.default.mapGrid)*o.default.mapGrid+o.default.mapGrid/2}},drawTower:function(t,a,o,s){var i=this.images[t];e.default.ctx.drawImage(i,0,160*s,i.width,i.width,a-40,o-60,80,80)},openOptions:function(t){var a=document.querySelector(".modal-options");e.default.output("#tower-position-x",t.x),e.default.output("#tower-position-y",t.y),e.default.output("#tower-level",t.level+1),e.default.output("#tower-fire-range",t.fireRange),e.default.output("#tower-cooldown-time",t.cooldownTime),e.default.output("#tower-damage-from",t.damage.from),e.default.output("#tower-damage-to",t.damage.to),e.default.output("#tower-stats-shoots",t.stats.shoots),e.default.output("#tower-stats-damage",t.stats.dmg),e.default.output("#tower-stats-kills",t.stats.kills);var s=o.default.towers[t.bullet].upgrades[t.level];s?(a.querySelector(".tower-upgrade").classList.remove("is--hidden"),e.default.output("#tower-upgrade-level",t.level+2),e.default.output("#tower-upgrade-cost",s.cost),e.default.output("#tower-upgrade-fire-range",s.fireRange),e.default.output("#tower-upgrade-damage-from",s.damage.from),e.default.output("#tower-upgrade-damage-to",s.damage.to),e.default.output(".modal-options .tower-upgrade-level",t.level+2),a.querySelector(".tower-buy-upgrade").onclick=function(){t.upgrade()}):a.querySelector(".tower-upgrade").classList.add("is--hidden"),a.classList.add("is--open")}};exports.default=d;
},{"./game":"IEHn","./game.map":"vyqg","./game.mouse":"EMnj","./game.settings":"XUlr","./game.mapEntities":"JA00","./game.enemies":"rAuy","./helpers":"EDcV"}],"IEHn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./game.map")),e=o(require("./game.mapEntities")),r=o(require("./game.enemies")),n=o(require("./game.towers")),i=o(require("./game.mouse")),a=o(require("./game.settings")),s=o(require("./helpers"));function o(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f={canvas:!1,ctx:!1,drawList:[],mouse:i.default,init:function(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),t.default.init(),e.default.init(),r.default.init(),n.default.init(),this.mouse.init(),this.output("#towerCosts",a.default.towers.laser.costs),this.resetGame(),setInterval(this.update.bind(this),1e3/30),this.draw()},resetGame:function(){this.waveCounter=0,e.default.list={},this.stat("life",a.default.playerLifes,!0),this.stat("coins",180,!0),this.stat("wave",0,!0)},buyTower:function(){if("dropTower"!==this.stat("mode")){var t=this.stat("coins");t>=a.default.towers.laser.costs&&(this.stat("mode","dropTower"),this.stat("coins",t-a.default.towers.laser.costs,!0))}},update:function(){this.trigger("update")},draw:function(){var t=this;window.requestAnimationFrame(t.draw.bind(this)),t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height),t.trigger("beforeDraw"),s.default._sortEntity.apply(t,["drawList"]);for(var e=t.drawList.length-1;e>=0;e--)t.drawList.splice(e,1)[0].draw();t.trigger("afterDraw")},stats:{},stat:function(t,e,r){return void 0===e?this.stats[t]||!1:(this.stats[t]=e,void 0!==r&&this.output("#".concat(t),e),this)},output:function(t,e){document.querySelector(t).innerHTML=e},distance:function(t,e,r,n){var i=t-r,a=e-n;return Math.sqrt(i*i+a*a)},intersectRect:function(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)},drawCircle:function(t,e,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.ctx.beginPath(),this.ctx.arc(t,e,r,0,2*Math.PI),!0===i?(this.ctx.fillStyle=n,this.ctx.fill()):(this.ctx.strokeStyle=n,this.ctx.stroke())},waveCounter:0,nextWave:function(){var t=this;if(0==Object.keys(e.default.list).length)return this;this.waveCounter++,this.stat("wave",this.waveCounter,!0);var n,i=0,s=Math.floor(this.waveCounter/a.default.enemyLevelIncAt),o=a.default.waves.length-1,l=u(a.default.waves[Math.min(s,o)].template);try{var c=function(){var e=n.value,a=Math.round(e.count+t.waveCounter*e.waveFactor);setTimeout(function(){for(var t=0;t<a;t++)setTimeout(function(){r.default.create(e.level+s,this.waveCounter)},t*e.coolDown)},i),i+=(e.delay+a*e.coolDown)*e.delayFactor};for(l.s();!(n=l.n()).done;)c()}catch(f){l.e(f)}finally{l.f()}return this},eventsList:{},on:function(t,e){return this.eventsList[t]||(this.eventsList[t]=[]),this.eventsList[t].push(e),this},trigger:function(t){if(!this.eventsList[t])return this;for(var e=0;e<this.eventsList[t].length;e++)this.eventsList[t][e]();return this}};exports.default=f;
},{"./game.map":"vyqg","./game.mapEntities":"JA00","./game.enemies":"rAuy","./game.towers":"pfYy","./game.mouse":"EMnj","./game.settings":"XUlr","./helpers":"EDcV"}],"d6sW":[function(require,module,exports) {
"use strict";var e=t(require("./game"));function t(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(){e.default.init(),document.addEventListener("click",function(t){t.target.matches("#buy-tower")&&(t.preventDefault(),e.default.buyTower())},!1),document.addEventListener("click",function(t){t.target.matches("#next-wave")&&(t.preventDefault(),e.default.nextWave())},!1),document.addEventListener("click",function(e){e.target.matches(".modal-close")&&(e.preventDefault(),document.querySelector(".modal-options").classList.remove("is--open"))},!1)});
},{"./game":"IEHn"}]},{},["d6sW"], null)
//# sourceMappingURL=/tower-defense/main.e4d086b2.js.map